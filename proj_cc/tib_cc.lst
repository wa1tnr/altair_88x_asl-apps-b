 AS V1.42 Beta [Bld 222] - Source File tib_cc.asm - Page 1 - 06/08/2022 05:02:28 PM


       1/       0 :                     ; 'Error' program - early terminal input buffer (TIB)
       2/       0 :                     ; Wed  8 Jun 13:57:21 UTC 2022
       3/       0 :                     
       4/       0 :                     ; TESTED: 175010o EXAMINE, RUN hit the high trap
       5/       0 :                     
       6/       0 :                     boundary:
       7/    1400 :                     	ORG	1400o ; reserve 768 bytes
       8/    1400 : 001                 	DB	1o
       9/    1401 :                     
      10/    1401 :                     ; Start address: 2000
      11/    1401 :                     
      12/    2000 :                     	ORG	2000o
      13/    2000 : 061 000 372         START:	LXI SP,	SP_H
      14/    2003 : 303 020 004         	JMP run
      15/    2006 : 000                         NOP
      16/    2007 : 000                         NOP
      17/    2010 : 000                         NOP
      18/    2011 : 000                         NOP
      19/    2012 : 072 017 000         	LDA	017o
      20/    2015 : 000                         NOP
      21/    2016 : 000                         NOP
      22/    2017 : 000                         NOP
      23/    2020 :                     
      24/    2020 :                     run: ; THERE
      25/    2020 :                     
      26/    2020 :                     .loop
      27/    2020 : 315 026 004         	CALL	KEY
      28/    2023 : 303 020 004         	JMP	.loop
      29/    2026 :                     KEY:
      30/    2026 : 333 000             	IN	000
      31/    2030 : 346 001             	ANI	001
      32/    2032 : 302 026 004         	JNZ	KEY
      33/    2035 : 333 001             	IN	001
      34/    2037 : 323 001             	OUT	001
      35/    2041 : 000                 	NOP
      36/    2042 : 000                 	NOP
      37/    2043 : 000                 	NOP
      38/    2044 : 303 010 373         	JMP	trapped ; test
      39/    2047 :                     
      40/    2047 :                     	; LDA	BYTES
      41/    2047 : 072 303 003         	LDA	BYAD	; 040o
      42/    2052 : 323 001             	OUT	001
      43/    2054 : 072 303 003         	LDA	BYAD
      44/    2057 : 323 001             	OUT	001
      45/    2061 : 072 303 003         	LDA	BYAD
      46/    2064 : 323 001             	OUT	001
      47/    2066 :                     
      48/    2066 : 072 300 003         	LDA	BYAA	; 105o
      49/    2071 : 323 001             	OUT	001
      50/    2073 : 072 301 003         	LDA	BYAB    ; 162o
      51/    2076 : 323 001             	OUT	001
      52/    2100 : 072 301 003         	LDA	BYAB
      53/    2103 : 323 001             	OUT	001
      54/    2105 : 072 302 003         	LDA	BYAC	; 157o
      55/    2110 : 323 001             	OUT	001
      56/    2112 : 072 301 003         	LDA	BYAB
      57/    2115 : 323 001             	OUT	001
      58/    2117 : 072 303 003         	LDA	BYAD
      59/    2122 : 323 001             	OUT	001
      60/    2124 : 072 303 003         	LDA	BYAD
 AS V1.42 Beta [Bld 222] - Source File tib_cc.asm - Page 2 - 06/08/2022 05:02:28 PM


      61/    2127 : 323 001             	OUT	001
      62/    2131 : 315 135 004         	CALL	WAIT	; finite delay added here
      63/    2134 : 311                 	RET
      64/    2135 :                     
      65/    2135 :                     WAIT:
      66/    2135 : 036 000             	MVI E,	000o
      67/    2137 : 026 150             	MVI D,	150o
      68/    2141 :                     REENT:
      69/    2141 : 035                 	DCR E
      70/    2142 : 302 141 004         	JNZ REENT
      71/    2145 : 025                 	DCR D
      72/    2146 : 302 141 004         	JNZ REENT
      73/    2151 : 311                 	RET
      74/    2152 :                     
      75/    2152 :                     
      76/    2152 :                     ; odd.sh
      77/    2152 :                     ; echo -n "${1}" | od -b -An
      78/    2152 :                     
      79/    2152 : 040 040 040 040     	DB	040o, 040o, 040o, 040o, 040o, 040o
             2156 : 040 040         
      80/    2160 :                     
      81/    2160 :                     ;  git $  odd 'Wed  8 Jun 16:19:49 UTC 2022'
      82/    2160 : 127 145 144 040     	DB	127o, 145o, 144o, 040o, 040o, 070o, 040o, 112o, 165o, 156o, 040o, 061o, 066o, 072o, 061o, 071o
             2164 : 040 070 040 112 
             2170 : 165 156 040 061 
             2174 : 066 072 061 071 
      83/    2200 : 072 064 071 040     	DB	072o, 064o, 071o, 040o, 125o, 124o, 103o, 040o, 062o, 060o, 062o, 062o
             2204 : 125 124 103 040 
             2210 : 062 060 062 062 
      84/    2214 :                     
      85/    2214 :                     
      86/    2214 :                     ; variables in higher low-memory - stale comment
      87/    2214 :                     
      88/    1640 :                     	ORG	1640o
      89/    1640 : 163 164 165 166     TIB:	DB	163o, 164o, 165o, 166o, 167o, 170o, 171o
             1644 : 167 170 171     
      90/    1647 : 172 173 174 175             DB	172o, 173o, 174o, 175o, 176o, 177o, 200o
             1653 : 176 177 200     
      91/    1656 : 163 164 165 166     	DB	163o, 164o, 165o, 166o, 167o, 170o, 171o
             1662 : 167 170 171     
      92/    1665 : 172 173 174 175             DB	172o, 173o, 174o, 175o, 176o, 177o, 200o
             1671 : 176 177 200     
      93/    1674 :                     
      94/    1674 :                     ; BYTES:	DB	105o, 162o, 162o, 157o, 162o, 040o, 040o, 040o ;  Error    ........
      95/    1674 :                     ; spell it BYAA BYAB BYAB BYAC BYAB BYAD BYAD BYAD
      96/    1674 :                     
      97/    1700 :                     	ORG	1700o
      98/    1700 : 105                 BYAA:	DB	105o
      99/    1701 : 162                 BYAB:	DB	162o
     100/    1702 : 157                 BYAC:	DB	157o
     101/    1703 : 040                 BYAD:	DB	040o
     102/    1704 :                     
     103/  175000 :                     	ORG	175000o
     104/  175000 :                     ; SP_H:	DB	317o
     105/  175000 : 000                 SP_H:	DB	0o
     106/  175001 :                     
     107/  175001 :                     ; error trap
     108/  175400 :                     	ORG	175400o ; act as soon as possible
     109/  175400 :                     
     110/  175400 : 000                         NOP
 AS V1.42 Beta [Bld 222] - Source File tib_cc.asm - Page 3 - 06/08/2022 05:02:28 PM


     111/  175401 : 000                         NOP
     112/  175402 : 000                         NOP
     113/  175403 : 000                         NOP
     114/  175404 :                     
     115/  175404 : 000                         NOP
     116/  175405 : 000                         NOP
     117/  175406 : 000                         NOP
     118/  175407 : 000                         NOP
     119/  175410 :                     
     120/  175410 :                     trapped:
     121/  175410 : 303 030 373         	JMP	err_hi
     122/  175413 :                     
     123/  175413 :                     waiting:
     124/  175413 : 036 000             	MVI E,	000o
     125/  175415 : 026 150             	MVI D,	150o
     126/  175417 :                     reentry:
     127/  175417 : 035                 	DCR E
     128/  175420 : 302 017 373         	JNZ reentry
     129/  175423 : 025                 	DCR D
     130/  175424 : 302 017 373         	JNZ reentry
     131/  175427 : 311                 	RET
     132/  175430 :                     
     133/  175430 :                     err_hi:
     134/  175430 : 000                 	NOP
     135/  175431 : 000                 	NOP
     136/  175432 :                     hold:
     137/  175432 : 000                 	NOP
     138/  175433 : 000                 	NOP
     139/  175434 :                     
     140/  175434 : 072 306 373         	LDA	BYHD	; 040o
     141/  175437 : 323 001             	OUT	001
     142/  175441 :                     
     143/  175441 : 072 306 373         	LDA	BYHD
     144/  175444 : 323 001             	OUT	001
     145/  175446 :                     
     146/  175446 : 072 303 373         	LDA	BYHA	; 105o 'E'
     147/  175451 : 323 001             	OUT	001
     148/  175453 :                     
     149/  175453 : 072 304 373         	LDA	BYHB    ; 162o 'r'
     150/  175456 : 323 001             	OUT	001
     151/  175460 :                     
     152/  175460 : 072 304 373         	LDA	BYHB
     153/  175463 : 323 001             	OUT	001
     154/  175465 :                     
     155/  175465 : 072 305 373         	LDA	BYHC	; 157o 'o'
     156/  175470 : 323 001             	OUT	001
     157/  175472 :                     
     158/  175472 : 072 304 373         	LDA	BYHB    ; 'Error' to here
     159/  175475 : 323 001             	OUT	001
     160/  175477 :                     
     161/  175477 : 072 306 373         	LDA	BYHD
     162/  175502 : 323 001             	OUT	001
     163/  175504 :                     
     164/  175504 :                     
     165/  175504 : 072 307 373         	LDA	BYHE	; '-'
     166/  175507 : 323 001             	OUT	001
     167/  175511 :                     
     168/  175511 : 072 306 373         	LDA	BYHD
     169/  175514 : 323 001             	OUT	001
     170/  175516 :                     
 AS V1.42 Beta [Bld 222] - Source File tib_cc.asm - Page 4 - 06/08/2022 05:02:28 PM


     171/  175516 : 072 310 373         	LDA	BYHF	; 'H'
     172/  175521 : 323 001             	OUT	001
     173/  175523 :                     
     174/  175523 : 072 311 373         	LDA	BYHG	; 'I'
     175/  175526 : 323 001             	OUT	001
     176/  175530 :                     
     177/  175530 : 072 312 373         	LDA	BYHH	; 'G'
     178/  175533 : 323 001             	OUT	001
     179/  175535 :                     
     180/  175535 : 072 310 373         	LDA	BYHF	; 'H'
     181/  175540 : 323 001             	OUT	001
     182/  175542 :                     
     183/  175542 : 072 306 373         	LDA	BYHD    ; ' '
     184/  175545 : 323 001             	OUT	001
     185/  175547 :                     
     186/  175547 : 072 313 373         	LDA	BYHI    ; 'T'
     187/  175552 : 323 001             	OUT	001
     188/  175554 :                     
     189/  175554 : 072 314 373         	LDA	BYHJ    ; 'R'
     190/  175557 : 323 001             	OUT	001
     191/  175561 :                     
     192/  175561 : 072 315 373         	LDA	BYHK    ; 'A'
     193/  175564 : 323 001             	OUT	001
     194/  175566 :                     
     195/  175566 : 072 316 373         	LDA	BYHL    ; 'P'
     196/  175571 : 323 001             	OUT	001
     197/  175573 :                     
     198/  175573 : 072 306 373         	LDA	BYHD    ; ' '
     199/  175576 : 323 001             	OUT	001
     200/  175600 :                     
     201/  175600 : 072 306 373         	LDA	BYHD    ; ' '
     202/  175603 : 323 001             	OUT	001
     203/  175605 :                     
     204/  175605 : 000                 	NOP
     205/  175606 : 000                 	NOP
     206/  175607 : 000                 	NOP
     207/  175610 : 000                 	NOP
     208/  175611 :                     
     209/  175611 : 315 013 373         	CALL	waiting ; finite delay added here
     210/  175614 : 315 013 373         	CALL	waiting
     211/  175617 : 315 013 373         	CALL	waiting
     212/  175622 : 315 013 373         	CALL	waiting
     213/  175625 : 315 013 373         	CALL	waiting
     214/  175630 : 315 013 373         	CALL	waiting
     215/  175633 : 315 013 373         	CALL	waiting
     216/  175636 : 315 013 373         	CALL	waiting
     217/  175641 : 315 013 373         	CALL	waiting
     218/  175644 : 315 013 373         	CALL	waiting
     219/  175647 : 315 013 373         	CALL	waiting
     220/  175652 : 315 013 373         	CALL	waiting
     221/  175655 : 315 013 373         	CALL	waiting
     222/  175660 : 315 013 373         	CALL	waiting
     223/  175663 : 315 013 373         	CALL	waiting
     224/  175666 : 315 013 373         	CALL	waiting
     225/  175671 : 315 013 373         	CALL	waiting
     226/  175674 : 303 032 373         	JMP	hold
     227/  175677 : 000                 	NOP
     228/  175700 : 000                 	NOP
     229/  175701 : 000                 	NOP
     230/  175702 : 000                 	NOP
 AS V1.42 Beta [Bld 222] - Source File tib_cc.asm - Page 5 - 06/08/2022 05:02:28 PM


     231/  175703 :                     
     232/  175703 : 105                 BYHA:	DB	105o ; 'E'
     233/  175704 : 162                 BYHB:	DB	162o ; 'r'
     234/  175705 : 157                 BYHC:	DB	157o ; 'o'
     235/  175706 : 040                 BYHD:	DB	040o ; ' '
     236/  175707 : 055                 BYHE:	DB	055o ; '-'
     237/  175710 : 110                 BYHF:	DB	110o ; 'H'
     238/  175711 : 111                 BYHG:	DB	111o ; 'I'
     239/  175712 : 107                 BYHH:	DB	107o ; 'G'
     240/  175713 : 124                 BYHI:	DB	124o ; 'T'
     241/  175714 : 122                 BYHJ:	DB	122o ; 'R'
     242/  175715 : 101                 BYHK:	DB	101o ; 'A'
     243/  175716 : 120                 BYHL:   DB	120o ; 'P'
     244/  175717 :                     	END
 AS V1.42 Beta [Bld 222] - Source File tib_cc.asm - Page 6 - 06/08/2022 05:02:28 PM


  Symbol Table (* = unused):
  --------------------------

*ARCHITECTURE :                                      "x86_64-unknown-linux" - |
*BOUNDARY :                       0 C |  BYAA :                        1700 C |
 BYAB :                        1701 C |  BYAC :                        1702 C |
 BYAD :                        1703 C |  BYHA :                      175703 C |
 BYHB :                      175704 C |  BYHC :                      175705 C |
 BYHD :                      175706 C |  BYHE :                      175707 C |
 BYHF :                      175710 C |  BYHG :                      175711 C |
 BYHH :                      175712 C |  BYHI :                      175713 C |
 BYHJ :                      175714 C |  BYHK :                      175715 C |
 BYHL :                      175716 C | *CASESENSITIVE :                  0 - |
*COMPMODE :                       0 - | *CONSTPI :        3.141592653589793 - |
*DATE :                "06/08/2022" - |  ERR_HI :                    175430 C |
*FALSE :                          0 - | *HAS64 :                          1 - |
 HOLD :                      175432 C |  KEY :                         2026 C |
*LISTON :                         1 - | *MACEXP :                         7 - |
*MOMCPU :                    100200 - | *MOMCPUNAME :                "8080" - |
*NESTMAX :                      400 - |  REENT :                       2141 C |
 REENTRY :                   175417 C | *RELAXED :                        0 - |
 RUN :                         2020 C |  RUN.LOOP :                    2020 C |
 SP_H :                      175000 C | *START :                       2000 C |
*TIB :                         1640 C | *TIME :               "05:02:28 PM" - |
 TRAPPED :                   175410 C | *TRUE :                           1 - |
*VERSION :                    12057 - |  WAIT :                        2135 C |
 WAITING :                   175413 C | *Z80SYNTAX :                      0 - |

     47 symbols
     20 unused symbols

 AS V1.42 Beta [Bld 222] - Source File tib_cc.asm - Page 7 - 06/08/2022 05:02:28 PM


  Code Pages:
  ----------

STANDARD (0 changed characters)

1 code page

0.00 seconds assembly time

    293 lines source file
      2 passes
      0 errors
      0 warnings
